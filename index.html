<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capacitación 5S - Metodología de Mejora Continua</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navegación -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo" onclick="showSection('home')">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                    <path d="M2 17l10 5 10-5"/>
                    <path d="M2 12l10 5 10-5"/>
                </svg>
                <span>5S Training</span>
            </div>
            <button class="nav-toggle" onclick="toggleMenu()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"/>
                    <line x1="3" y1="6" x2="21" y2="6"/>
                    <line x1="3" y1="18" x2="21" y2="18"/>
                </svg>
            </button>
            <ul class="nav-menu">
                <li><a href="#" onclick="showSection('home')">Inicio</a></li>
                <li><a href="#" onclick="showSection('modules')">Módulos</a></li>
                <li><a href="#" onclick="showSection('game')">Juego</a></li>
                <li><a href="#" onclick="showSection('quiz')">Quiz</a></li>
                <li><a href="#" onclick="showSection('results')">Resultados</a></li>
            </ul>
        </div>
    </nav>

    <!-- Sección: Inicio -->
    <section id="home" class="section active">
        <div class="hero">
            <div class="hero-content">
                <h1>Metodología 5S</h1>
                <p class="hero-subtitle">Domina los principios de organización y mejora continua en el lugar de trabajo</p>
                <div class="hero-stats">
                    <div class="stat-card">
                        <div class="progress-ring-container">
                            <canvas id="progressRing" width="120" height="120"></canvas>
                            <span class="progress-text" id="progressText">0%</span>
                        </div>
                        <span class="stat-label">Progreso Total</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="totalPoints">0</span>
                        <span class="stat-label">Puntos</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="totalBadges">0</span>
                        <span class="stat-label">Logros</span>
                    </div>
                </div>
                <button class="btn-primary" onclick="showSection('modules')">Comenzar Aprendizaje</button>
            </div>
        </div>

        <div class="container">
            <h2 class="section-title">¿Qué son las 5S?</h2>
            <p class="intro-text">Las 5S es una metodología japonesa de gestión visual que busca crear y mantener un entorno de trabajo organizado, limpio y eficiente. Cada "S" representa un principio fundamental:</p>
            
            <div class="five-s-grid">
                <div class="s-card" data-s="seiri">
                    <div class="s-icon seiri">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 6h18"/>
                            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
                            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                            <line x1="10" y1="11" x2="10" y2="17"/>
                            <line x1="14" y1="11" x2="14" y2="17"/>
                        </svg>
                    </div>
                    <h3>Seiri</h3>
                    <p class="s-japanese">整理</p>
                    <p class="s-translation">Clasificar</p>
                    <p class="s-description">Separar lo necesario de lo innecesario y eliminar lo que no se usa.</p>
                </div>

                <div class="s-card" data-s="seiton">
                    <div class="s-icon seiton">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                    </div>
                    <h3>Seiton</h3>
                    <p class="s-japanese">整頓</p>
                    <p class="s-translation">Ordenar</p>
                    <p class="s-description">Un lugar para cada cosa y cada cosa en su lugar.</p>
                </div>

                <div class="s-card" data-s="seiso">
                    <div class="s-icon seiso">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v4"/>
                            <path d="M12 18v4"/>
                            <path d="M4.93 4.93l2.83 2.83"/>
                            <path d="M16.24 16.24l2.83 2.83"/>
                            <path d="M2 12h4"/>
                            <path d="M18 12h4"/>
                            <path d="M4.93 19.07l2.83-2.83"/>
                            <path d="M16.24 7.76l2.83-2.83"/>
                        </svg>
                    </div>
                    <h3>Seiso</h3>
                    <p class="s-japanese">清掃</p>
                    <p class="s-translation">Limpiar</p>
                    <p class="s-description">Mantener el área de trabajo limpia e identificar problemas.</p>
                </div>

                <div class="s-card" data-s="seiketsu">
                    <div class="s-icon seiketsu">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10 9 9 9 8 9"/>
                        </svg>
                    </div>
                    <h3>Seiketsu</h3>
                    <p class="s-japanese">清潔</p>
                    <p class="s-translation">Estandarizar</p>
                    <p class="s-description">Crear normas y procedimientos para mantener las 3S anteriores.</p>
                </div>

                <div class="s-card" data-s="shitsuke">
                    <div class="s-icon shitsuke">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                    </div>
                    <h3>Shitsuke</h3>
                    <p class="s-japanese">躾</p>
                    <p class="s-translation">Disciplina</p>
                    <p class="s-description">Convertir las 5S en un hábito y cultura de mejora continua.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección: Módulos -->
    <section id="modules" class="section">
        <div class="container">
            <h2 class="section-title">Módulos de Aprendizaje</h2>
            <p class="section-subtitle">Completa cada módulo para dominar la metodología 5S</p>
            
            <div class="modules-grid" id="modulesGrid">
                <!-- Los módulos se generan dinámicamente -->
            </div>
        </div>

        <!-- Modal de Módulo -->
        <div class="modal" id="moduleModal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
                <div id="moduleContent"></div>
            </div>
        </div>
    </section>

    <!-- Sección: Juego -->
    <section id="game" class="section">
        <div class="container">
            <div class="game-header">
                <h2 class="section-title">Ordena el Área de Trabajo</h2>
                <div class="game-info">
                    <div class="game-timer">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        <span id="gameTimer">60</span>s
                    </div>
                    <div class="game-score">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                        <span id="gameScore">0</span> pts
                    </div>
                </div>
            </div>

            <div class="game-container" id="gameContainer">
                <div class="drop-zones">
                    <div class="drop-zone" data-zone="necesario" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        <div class="zone-header necesario">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Necesario
                        </div>
                        <div class="zone-items"></div>
                    </div>
                    <div class="drop-zone" data-zone="no-necesario" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        <div class="zone-header no-necesario">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="15" y1="9" x2="9" y2="15"/>
                                <line x1="9" y1="9" x2="15" y2="15"/>
                            </svg>
                            No Necesario
                        </div>
                        <div class="zone-items"></div>
                    </div>
                    <div class="drop-zone" data-zone="peligroso" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        <div class="zone-header peligroso">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            Peligroso
                        </div>
                        <div class="zone-items"></div>
                    </div>
                    <div class="drop-zone" data-zone="basura" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        <div class="zone-header basura">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Basura
                        </div>
                        <div class="zone-items"></div>
                    </div>
                </div>

                <div class="items-container" id="itemsContainer">
                    <!-- Los items se generan dinámicamente -->
                </div>
            </div>

            <div class="game-controls">
                <button class="btn-primary" onclick="startGame()">Iniciar Juego</button>
                <button class="btn-secondary" onclick="resetGame()">Reiniciar</button>
            </div>

            <div class="game-result" id="gameResult" style="display: none;">
                <h3>¡Juego Terminado!</h3>
                <p>Puntuación: <strong id="finalGameScore">0</strong> puntos</p>
                <p>Aciertos: <span id="correctCount">0</span> | Errores: <span id="errorCount">0</span></p>
            </div>
        </div>
    </section>

    <!-- Sección: Quiz -->
    <section id="quiz" class="section">
        <div class="container">
            <div id="quizStart" class="quiz-start">
                <h2 class="section-title">Preguntados 5S</h2>
                <p class="section-subtitle">Pon a prueba tus conocimientos con 20 preguntas sobre la metodología 5S</p>
                
                <div class="quiz-config">
                    <div class="config-option">
                        <label>Dificultad:</label>
                        <select id="quizDifficulty">
                            <option value="all">Todas</option>
                            <option value="basica">Básica</option>
                            <option value="intermedia">Intermedia</option>
                            <option value="avanzada">Avanzada</option>
                        </select>
                    </div>
                    <div class="config-option">
                        <label>Categoría:</label>
                        <select id="quizCategory">
                            <option value="all">Todas las S</option>
                            <option value="seiri">Seiri (Clasificar)</option>
                            <option value="seiton">Seiton (Ordenar)</option>
                            <option value="seiso">Seiso (Limpiar)</option>
                            <option value="seiketsu">Seiketsu (Estandarizar)</option>
                            <option value="shitsuke">Shitsuke (Disciplina)</option>
                        </select>
                    </div>
                </div>

                <button class="btn-primary btn-large" onclick="startQuiz()">Comenzar Quiz</button>
            </div>

            <div id="quizGame" class="quiz-game" style="display: none;">
                <div class="quiz-header">
                    <div class="quiz-progress">
                        <span>Pregunta <span id="currentQuestion">1</span> de <span id="totalQuestions">20</span></span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="quizProgressBar"></div>
                        </div>
                    </div>
                    <div class="quiz-timer-bar" id="quizTimerBar"></div>
                </div>

                <div class="quiz-content">
                    <div class="question-category" id="questionCategory">Seiri</div>
                    <h3 class="question-text" id="questionText">Pregunta de ejemplo</h3>
                    
                    <div class="answers-container" id="answersContainer">
                        <!-- Las respuestas se generan dinámicamente -->
                    </div>
                </div>

                <div class="quiz-footer">
                    <div class="quiz-stats">
                        <span class="stat correct">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <span id="quizCorrect">0</span>
                        </span>
                        <span class="stat wrong">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"/>
                                <line x1="6" y1="6" x2="18" y2="18"/>
                            </svg>
                            <span id="quizWrong">0</span>
                        </span>
                        <span class="stat streak">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                            <span id="quizStreak">0</span>
                        </span>
                    </div>
                </div>
            </div>

            <div id="quizResult" class="quiz-result" style="display: none;">
                <div class="result-header">
                    <div class="result-icon" id="resultIcon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                    </div>
                    <h2 id="resultTitle">¡Excelente!</h2>
                    <p class="result-score">Puntuación: <strong id="quizFinalScore">0</strong> puntos</p>
                </div>

                <div class="result-stats">
                    <div class="result-stat">
                        <span class="value" id="resultCorrect">0</span>
                        <span class="label">Correctas</span>
                    </div>
                    <div class="result-stat">
                        <span class="value" id="resultWrong">0</span>
                        <span class="label">Incorrectas</span>
                    </div>
                    <div class="result-stat">
                        <span class="value" id="resultPercentage">0%</span>
                        <span class="label">Porcentaje</span>
                    </div>
                    <div class="result-stat">
                        <span class="value" id="resultBestStreak">0</span>
                        <span class="label">Mejor Racha</span>
                    </div>
                </div>

                <div class="result-actions">
                    <button class="btn-primary" onclick="startQuiz()">Intentar de Nuevo</button>
                    <button class="btn-secondary" onclick="showSection('results')">Ver Estadísticas</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección: Resultados -->
    <section id="results" class="section">
        <div class="container">
            <h2 class="section-title">Panel de Resultados</h2>
            
            <div class="results-grid">
                <div class="result-card">
                    <h3>Competencia por S</h3>
                    <canvas id="radarChart"></canvas>
                </div>
                <div class="result-card">
                    <h3>Evolución de Puntuación</h3>
                    <canvas id="lineChart"></canvas>
                </div>
                <div class="result-card full-width">
                    <h3>Estadísticas Detalladas</h3>
                    <div class="stats-table" id="statsTable">
                        <!-- Se genera dinámicamente -->
                    </div>
                </div>
            </div>

            <div class="badges-section">
                <h3>Logros Desbloqueados</h3>
                <div class="badges-grid" id="badgesGrid">
                    <!-- Se genera dinámicamente -->
                </div>
            </div>

            <div class="export-section">
                <button class="btn-secondary" onclick="exportData('json')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    Exportar JSON
                </button>
                <button class="btn-secondary" onclick="exportData('csv')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                    </svg>
                    Exportar CSV
                </button>
                <button class="btn-danger" onclick="resetAllData()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"/>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                    </svg>
                    Reiniciar Datos
                </button>
            </div>
        </div>
    </section>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/game.js"></script>
    <script src="js/quiz.js"></script>
</body>
</html>
